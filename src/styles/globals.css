@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Warm cream light theme */
    --background: 55 40% 97%;           /* #FAFAF7 */
    --foreground: 20 10% 11%;           /* #1C1917 */
    --card: 0 0% 100%;
    --card-foreground: 20 10% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 20 10% 11%;
    --primary: 211 100% 50%;            /* #007AFF */
    --primary-foreground: 0 0% 100%;
    --secondary: 35 22% 94%;            /* #F4F1EB */
    --secondary-foreground: 20 10% 11%;
    --muted: 35 22% 94%;
    --muted-foreground: 20 6% 44%;      /* #78716C */
    --accent: 35 22% 94%;
    --accent-foreground: 211 100% 50%;
    --destructive: 0 72% 51%;           /* #DC2626 */
    --destructive-foreground: 0 0% 100%;
    --border: 30 14% 89%;               /* #E7E3DC */
    --input: 30 14% 91%;
    --ring: 211 100% 50%;
    --radius: 0.875rem;

    /* Raw palette for components */
    --c-cream: #FAFAF7;
    --c-cream-2: #F4F1EB;
    --c-white: #FFFFFF;
    --c-ink: #1C1917;
    --c-ink-2: #78716C;
    --c-ink-3: #A8A29E;
    --c-ink-4: #D6D3D0;
    --c-blue: #007AFF;
    --c-blue-tint: #F0F7FF;
    --c-border: #E7E3DC;
    --c-border-2: #CCC8C0;
    --c-red: #DC2626;
    --c-green: #16A34A;
    --c-shadow-warm: rgba(28, 25, 23, 0.06);
    --c-shadow-warm-md: rgba(28, 25, 23, 0.10);
    --c-shadow-warm-lg: rgba(28, 25, 23, 0.15);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
  }

  html, body {
    height: 100%;
    overflow-x: hidden;
  }

  body {
    background-color: var(--c-cream);
    color: var(--c-ink);
    font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, 'Helvetica Neue', sans-serif;
    font-size: 14px;
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  input, select, textarea {
    font-size: 16px !important;
  }

  @media (min-width: 640px) {
    input, select, textarea {
      font-size: 14px !important;
    }
  }

  /* Warm thin scrollbar */
  ::-webkit-scrollbar { width: 5px; height: 5px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb {
    background: var(--c-ink-4);
    border-radius: 99px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background: var(--c-ink-3);
  }

  /* Color input */
  input[type='color'] {
    -webkit-appearance: none;
    appearance: none;
    cursor: pointer;
    background: none;
    min-height: 32px;
    min-width: 32px;
  }
  input[type='color']::-webkit-color-swatch-wrapper {
    padding: 0;
    border-radius: 7px;
  }
  input[type='color']::-webkit-color-swatch {
    border: none;
    border-radius: 7px;
  }
  input[type='color']:focus {
    outline: 2px solid var(--c-blue);
    outline-offset: 2px;
  }
}

@layer utilities {
  .no-spinner::-webkit-inner-spin-button,
  .no-spinner::-webkit-outer-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }
  .no-spinner { -moz-appearance: textfield; }

  .font-display {
    font-family: 'DM Serif Display', Georgia, 'Times New Roman', serif;
  }

  .pb-safe { padding-bottom: env(safe-area-inset-bottom); }
  .pt-safe { padding-top: env(safe-area-inset-top); }
}

/* ─── Animations ──────────────────────────────────────────── */

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(14px); }
  to   { opacity: 1; transform: translateY(0); }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.96) translateY(6px); }
  to   { opacity: 1; transform: scale(1) translateY(0); }
}

@keyframes slideUpSheet {
  from { opacity: 0; transform: translateY(28px); }
  to   { opacity: 1; transform: translateY(0); }
}

.anim-fade-up {
  animation: fadeUp 0.42s cubic-bezier(0.16, 1, 0.3, 1) both;
}

.anim-fade-in {
  animation: fadeIn 0.25s ease both;
}

.anim-scale-in {
  animation: scaleIn 0.35s cubic-bezier(0.16, 1, 0.3, 1) both;
}

.anim-sheet {
  animation: slideUpSheet 0.38s cubic-bezier(0.16, 1, 0.3, 1) both;
}

/* ─── Card grid stagger ───────────────────────────────────── */

.card-item {
  animation: fadeUp 0.42s cubic-bezier(0.16, 1, 0.3, 1) both;
}
.card-item:nth-child(1)  { animation-delay: 0ms; }
.card-item:nth-child(2)  { animation-delay: 55ms; }
.card-item:nth-child(3)  { animation-delay: 110ms; }
.card-item:nth-child(4)  { animation-delay: 165ms; }
.card-item:nth-child(5)  { animation-delay: 220ms; }
.card-item:nth-child(6)  { animation-delay: 275ms; }
.card-item:nth-child(7)  { animation-delay: 330ms; }
.card-item:nth-child(8)  { animation-delay: 385ms; }
.card-item:nth-child(9)  { animation-delay: 440ms; }
.card-item:nth-child(n+10) { animation-delay: 440ms; }

/* ─── Backdrop ────────────────────────────────────────────── */

.backdrop-warm {
  background: rgba(28, 25, 23, 0.40);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}
